@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    * {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    html {
        scroll-behavior: smooth;
        -webkit-text-size-adjust: 100%;
    }

    body {
        font-family:
            -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text",
            "Inter", sans-serif;
        background-color: #050505;
        color: #ffffff;
        -webkit-overflow-scrolling: touch;
    }
}

@layer components {
    /* Modern button styles */
    .btn-primary {
        @apply inline-flex items-center justify-center px-8 py-4 text-base font-semibold text-background bg-foreground rounded-full transition-all duration-300 ease-out hover:scale-105 hover:shadow-2xl hover:shadow-white/10 active:scale-95;
    }

    .btn-secondary {
        @apply inline-flex items-center justify-center px-8 py-4 text-base font-semibold text-foreground bg-transparent border border-white/20 rounded-full transition-all duration-300 ease-out hover:border-white/40 hover:bg-white/[0.03] hover:scale-105 active:scale-95;
    }

    .btn-accent {
        @apply inline-flex items-center justify-center px-8 py-4 text-base font-semibold text-white bg-accent rounded-full transition-all duration-300 ease-out hover:bg-accentHover hover:scale-105 hover:shadow-2xl hover:shadow-accent/30 active:scale-95;
    }

    /* Card styles */
    .card {
        @apply bg-white/[0.02] backdrop-blur-sm border border-white/[0.06] rounded-2xl p-8 transition-all duration-500 ease-out hover:bg-white/[0.04] hover:border-white/10;
    }

    .card-highlight {
        @apply bg-gradient-to-br from-accent/10 via-purple-500/10 to-pink-500/10 backdrop-blur-sm border border-accent/30 rounded-2xl p-8 transition-all duration-500 ease-out hover:border-accent/50 hover:shadow-2xl hover:shadow-accent/20;
    }

    /* Section styles */
    .section-container {
        @apply max-w-7xl mx-auto px-6 py-20 md:py-32;
    }

    /* Gradient text */
    .gradient-text {
        @apply bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent;
    }

    /* Grid background */
    .grid-bg {
        background-image:
            linear-gradient(
                to right,
                rgba(255, 255, 255, 0.02) 1px,
                transparent 1px
            ),
            linear-gradient(
                to bottom,
                rgba(255, 255, 255, 0.02) 1px,
                transparent 1px
            );
        background-size: 60px 60px;
    }

    /* Glow effect */
    .glow {
        box-shadow: 0 0 80px rgba(59, 130, 246, 0.5);
    }

    .glow-text {
        text-shadow: 0 0 40px rgba(59, 130, 246, 0.6);
    }
}

@layer utilities {
    /* Animation delays */
    .animation-delay-100 {
        animation-delay: 100ms;
    }

    .animation-delay-200 {
        animation-delay: 200ms;
    }

    .animation-delay-300 {
        animation-delay: 300ms;
    }

    .animation-delay-400 {
        animation-delay: 400ms;
    }

    .animation-delay-500 {
        animation-delay: 500ms;
    }

    .animation-delay-600 {
        animation-delay: 600ms;
    }

    .animation-delay-700 {
        animation-delay: 700ms;
    }

    .animation-delay-800 {
        animation-delay: 800ms;
    }

    /* Text rendering */
    .text-balance {
        text-wrap: balance;
    }

    /* Backdrop filters */
    .backdrop-blur-heavy {
        backdrop-filter: blur(40px);
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #050505;
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.15);
}

/* Selection color */
::selection {
    background: rgba(0, 133, 199, 0.3);
    color: white;
}

::-moz-selection {
    background: rgba(0, 133, 199, 0.3);
    color: white;
}

/*
 * Hide the default cursor ONLY on devices that have a fine pointer (mouse).
 * Touch / mobile devices keep their native cursor & touch behaviour.
 */
@media (hover: hover) and (pointer: fine) {
    * {
        cursor: none !important;
    }

    /* Ensure interactive elements still show pointer behavior for accessibility */
    a,
    button,
    [role="button"],
    input,
    textarea,
    select,
    [data-interactive] {
        cursor: none !important;
    }
}

/*
 * Mobile-specific touch optimisations.
 * Disable tap highlight and ensure smooth touch scrolling.
 */
@media (hover: none), (pointer: coarse) {
    * {
        -webkit-tap-highlight-color: transparent;
    }

    /* Let touch devices keep normal cursor fallback */
    a,
    button,
    [role="button"],
    input,
    textarea,
    select,
    [data-interactive] {
        cursor: pointer !important;
    }

    /* Reduce backdrop-blur intensity on mobile GPUs */
    .backdrop-blur-heavy {
        backdrop-filter: blur(20px);
    }
}

/* Noise texture overlay */
.noise {
    position: relative;
}

.noise::before {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.015;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    pointer-events: none;
}

/* Reduce noise overlay cost on mobile â€” fewer octaves are imperceptible on small screens */
@media (hover: none), (pointer: coarse) {
    .noise::before {
        opacity: 0.008;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    }
}
